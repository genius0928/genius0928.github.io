<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.3.2">Jekyll</generator><link href="https://genius0928.github.io//feed.xml" rel="self" type="application/atom+xml" /><link href="https://genius0928.github.io//" rel="alternate" type="text/html" /><updated>2023-11-28T08:23:32+09:00</updated><id>https://genius0928.github.io//feed.xml</id><title type="html">천각블로그</title><subtitle>천각블로그에서 발표한 게시글을 소개합니다.</subtitle><author><name>천각</name></author><entry><title type="html">Node.js Best Practices</title><link href="https://genius0928.github.io//papers/%EB%B8%94%EB%A1%9C%EA%B7%B8" rel="alternate" type="text/html" title="Node.js Best Practices" /><published>2023-11-27T00:00:00+09:00</published><updated>2023-11-27T00:00:00+09:00</updated><id>https://genius0928.github.io//papers/%EB%B8%94%EB%A1%9C%EA%B7%B8</id><content type="html" xml:base="https://genius0928.github.io//papers/%EB%B8%94%EB%A1%9C%EA%B7%B8"><![CDATA[<p>Node.js를 기반으로 앱을 만들 때 어떤 것을 지켜야할까? <br />
모듈화, 오류처리, 공격방어 등에 대해 알아보자.</p>
<h2 id="공격방어">공격방어</h2>
<p>실제로 이런식으로 .env 등에 대한 파일을 스크래핑 하려고 많은 노력을 당하게 된다. 
이를 위해서 cloudfront를 앞단에 두어야 합니다.
<img src="/assets/img/20231127/공격당하는중.png" alt="공격당하는중" /></p>

<h2 id="안정적인-종료">안정적인 종료</h2>
<p>DB - 서버 종료시에 다음과 같이 안정적으로 종료를 해야 합니다.</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">gracefulShutdown</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Shutting down gracefully</span><span class="dl">'</span><span class="p">);</span>
    <span class="nx">server</span><span class="p">.</span><span class="nf">close</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Server closed</span><span class="dl">'</span><span class="p">);</span>
        <span class="nx">client</span><span class="p">.</span><span class="nf">close</span><span class="p">().</span><span class="nf">then</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Database connection closed</span><span class="dl">'</span><span class="p">);</span>
            <span class="nx">process</span><span class="p">.</span><span class="nf">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
        <span class="p">});</span>
    <span class="p">});</span>
<span class="p">};</span>

<span class="c1">// Handle termination signals</span>
<span class="nx">process</span><span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">SIGTERM</span><span class="dl">'</span><span class="p">,</span> <span class="nx">gracefulShutdown</span><span class="p">);</span>
<span class="nx">process</span><span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">SIGINT</span><span class="dl">'</span><span class="p">,</span> <span class="nx">gracefulShutdown</span><span class="p">);</span>
</code></pre></div></div>]]></content><author><name>주홍철:어비스</name></author><category term="papers" /><category term="node.js, mongodb" /><summary type="html"><![CDATA[Node.js를 기반으로 앱을 만들 때 어떤 것을 지켜야할까? 모듈화, 오류처리, 공격방어 등에 대해 알아보자. 공격방어 실제로 이런식으로 .env 등에 대한 파일을 스크래핑 하려고 많은 노력을 당하게 된다. 이를 위해서 cloudfront를 앞단에 두어야 합니다.]]></summary></entry></feed>